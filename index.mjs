// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/streams-node-inspect@v0.1.0-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.1.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-buffer@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.1.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@v0.1.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.0-esm/index.mjs";import{isPrimitive as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.1.0-esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-number@v0.1.0-esm/index.mjs";import{isPrimitive as f}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.1.0-esm/index.mjs";function p(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){if(this instanceof e){var r=[null];r.push.apply(r,arguments);var n=Function.bind.apply(t,r);return new n}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var h=p(Object.freeze({__proto__:null,default:()=>()=>{}})),c=h("debug-stream"),j={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1,name:""};function b(e,t){return a(t)?d(t,"name")&&(e.name=t.name,!f(e.name))?new TypeError(s("1M52W,Gh","name",e.name)):d(t,"objectMode")&&(e.objectMode=t.objectMode,!l(e.objectMode))?new TypeError(s("1M52o,GE","objectMode",e.objectMode)):d(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!l(e.readableObjectMode))?new TypeError(s("1M52o,GE","readableObjectMode",e.readableObjectMode)):d(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!l(e.allowHalfOpen))?new TypeError(s("1M52o,GE","allowHalfOpen",e.allowHalfOpen)):d(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!m(e.highWaterMark))?new TypeError(s("1M54k,I9","highWaterMark",e.highWaterMark)):null:new TypeError(s("1M52V,FD",t))}var u=h;function g(e,o){var a,d,l,m,f;if(!(this instanceof g))return arguments.length>1?new g(e,o):1===arguments.length?new g(e):new g;if(a=i({},j),arguments.length>1){if(!r(o))throw new TypeError(s("1M52b,GJ",o));f=o,m=b(a,e)}else arguments.length&&(r(e)?f=e:m=b(a,e));if(m)throw m;return d=a.name?"debug-stream:"+a.name:"debug-stream",l=u(d),c("Creating a transform stream configured with the following options: %s.",JSON.stringify(a)),t.call(this,a,p),this;function p(e,t){if(f)return c("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),f(l,e,t);n(e)&&(e=e.toString()),e=JSON.stringify(e),c("Received a new chunk. Chunk: %s. Index: %d.",e,t),l("Chunk: %s. Index: %d.",e,t)}}function v(e,t){var n,o;if(arguments.length>1){if(!a(e))throw new TypeError(s("1M52V,FD",e));if(n=i({},e),o=t,!r(t))throw new TypeError(s("1M52b,GJ",t))}else if(arguments.length)if(r(e))n={},o=e;else{if(!a(e))throw new TypeError(s("1M52V,FD",e));n=i({},e)}else n={};return n.objectMode=!0,void 0===o?new g(n):new g(n,o)}function w(e){var t;if(arguments.length){if(!a(e))throw new TypeError(s("1M52V,FD",e));t=i({},e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new g(t,r):new g(t)}}o(g,t),e(g,"objectMode",v),e(g,"factory",w);export{g as default,w as factory,v as objectMode};
//# sourceMappingURL=index.mjs.map
