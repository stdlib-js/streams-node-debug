// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/streams-node-inspect@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-buffer@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import{isPrimitive as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-number@esm/index.mjs";import{isPrimitive as h}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";var f=()=>{},j={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1,name:""};function p(e,t){return d(t)?a(t,"name")&&(e.name=t.name,!h(e.name))?new TypeError(s("0fw2i","name",e.name)):a(t,"objectMode")&&(e.objectMode=t.objectMode,!l(e.objectMode))?new TypeError(s("0fw30","objectMode",e.objectMode)):a(t,"readableObjectMode")&&(e.readableObjectMode=t.readableObjectMode,!l(e.readableObjectMode))?new TypeError(s("0fw30","readableObjectMode",e.readableObjectMode)):a(t,"allowHalfOpen")&&(e.allowHalfOpen=t.allowHalfOpen,!l(e.allowHalfOpen))?new TypeError(s("0fw30","allowHalfOpen",e.allowHalfOpen)):a(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!m(e.highWaterMark))?new TypeError(s("0fw4x","highWaterMark",e.highWaterMark)):null:new TypeError(s("0fw2h",t))}function w(e,o){var d,a,l,m;if(!(this instanceof w))return arguments.length>1?new w(e,o):1===arguments.length?new w(e):new w;if(d=i(j),arguments.length>1){if(!r(o))throw new TypeError(s("0fw2n",o));m=o,l=p(d,e)}else arguments.length&&(r(e)?m=e:l=p(d,e));if(l)throw l;return d.name&&d.name,a=()=>{},f("Creating a transform stream configured with the following options: %s.",JSON.stringify(d)),t.call(this,d,h),this;function h(e,t){if(m)return f("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),t),m(a,e,t);n(e)&&(e=e.toString()),e=JSON.stringify(e),a("Chunk: %s. Index: %d.",e,t)}}function c(e,t){var n,o;if(arguments.length>1){if(!d(e))throw new TypeError(s("0fw2h",e));if(n=i(e),o=t,!r(t))throw new TypeError(s("0fw2n",t))}else if(arguments.length)if(r(e))n={},o=e;else{if(!d(e))throw new TypeError(s("0fw2h",e));n=i(e)}else n={};return n.objectMode=!0,void 0===o?new w(n):new w(n,o)}function b(e){var t;if(arguments.length){if(!d(e))throw new TypeError(s("0fw2h",e));t=i(e)}else t={};return r;function r(e,r){return t.name=e,arguments.length>1?new w(t,r):new w(t)}}o(w,t),e(w,"objectMode",c),e(w,"factory",b);export{w as default,b as factory,c as objectMode};
//# sourceMappingURL=index.mjs.map
