// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("stream"),require("buffer"),require("process")):"function"==typeof define&&define.amd?define(["stream","buffer","process"],r):(e="undefined"!=typeof globalThis?globalThis:e||self).debugStream=r(e.require$$0$3,e.require$$0$1,e.require$$0$2)}(this,(function(e,r,t){"use strict";var n="function"==typeof Object.defineProperty?Object.defineProperty:null;var o,i=Object.defineProperty,a=Object.prototype,u=a.toString,c=a.__defineGetter__,f=a.__defineSetter__,l=a.__lookupGetter__,p=a.__lookupSetter__;o=function(){try{return n({},"x",{}),!0}catch(e){return!1}}()?i:function(e,r,t){var n,o,i,s;if("object"!=typeof e||null===e||"[object Array]"===u.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof t||null===t||"[object Array]"===u.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((o="value"in t)&&(l.call(e,r)||p.call(e,r)?(n=e.__proto__,e.__proto__=a,delete e[r],e[r]=t.value,e.__proto__=n):e[r]=t.value),i="get"in t,s="set"in t,o&&(i||s))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&c&&c.call(e,r,t.get),s&&f&&f.call(e,r,t.set),e};var s=o;function y(e,r,t){s(e,r,{configurable:!1,enumerable:!1,writable:!1,value:t})}function d(e){if(e.__esModule)return e;var r=e.default;if("function"==typeof r){var t=function e(){if(this instanceof e){var t=[null];t.push.apply(t,arguments);var n=Function.bind.apply(r,t);return new n}return r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var h=/./;function b(e){return"boolean"==typeof e}var g="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function v(){return g&&"symbol"==typeof Symbol.toStringTag}var w=Object.prototype.toString;var m=Object.prototype.hasOwnProperty;function j(e,r){return null!=e&&m.call(e,r)}var O="function"==typeof Symbol?Symbol.toStringTag:"";var A=v()?function(e){var r,t,n;if(null==e)return w.call(e);t=e[O],r=j(e,O);try{e[O]=void 0}catch(r){return w.call(e)}return n=w.call(e),r?e[O]=t:delete e[O],n}:function(e){return w.call(e)},E=Boolean.prototype.toString;var M=v();function _(e){return"object"==typeof e&&(e instanceof Boolean||(M?function(e){try{return E.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===A(e)))}function S(e){return b(e)||_(e)}function k(){return new Function("return this;")()}y(S,"isPrimitive",b),y(S,"isObject",_);var I="object"==typeof self?self:null,T="object"==typeof window?window:null,x="object"==typeof global?global:null;var F=function(e){if(arguments.length){if(!b(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return k()}if(I)return I;if(T)return T;if(x)return x;throw new Error("unexpected error. Unable to resolve global object.")}(),U=F.document&&F.document.childNodes,P=Int8Array;function V(){return/^\s*function\s*([^(]*)/i}var C=/^\s*function\s*([^(]*)/i;y(V,"REGEXP",C);var $=Array.isArray?Array.isArray:function(e){return"[object Array]"===A(e)};function N(e){return null!==e&&"object"==typeof e}function W(e){return N(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))}function H(e){var r,t,n;if(("Object"===(t=A(e).slice(8,-1))||"Error"===t)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(r=C.exec(n.toString()))return r[1]}return W(e)?"Buffer":t}y(N,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(r){var t,n;if(!$(r))return!1;if(0===(t=r.length))return!1;for(n=0;n<t;n++)if(!1===e(r[n]))return!1;return!0}}(N));var B="function"==typeof h||"object"==typeof P||"function"==typeof U?function(e){return H(e).toLowerCase()}:function(e){var r;return null===e?"null":"object"===(r=typeof e)?H(e).toLowerCase():r};function R(e){return"function"===B(e)}function L(e){return"number"==typeof e}var z=Number,G=z.prototype.toString;var q=v();function X(e){return"object"==typeof e&&(e instanceof z||(q?function(e){try{return G.call(e),!0}catch(e){return!1}}(e):"[object Number]"===A(e)))}function D(e){return L(e)||X(e)}y(D,"isPrimitive",L),y(D,"isObject",X);var Z=Number.POSITIVE_INFINITY,J=z.NEGATIVE_INFINITY,Y=Math.floor;function K(e){return Y(e)===e}function Q(e){return e<Z&&e>J&&K(e)}function ee(e){return L(e)&&Q(e)}function re(e){return X(e)&&Q(e.valueOf())}function te(e){return ee(e)||re(e)}function ne(e){return ee(e)&&e>=0}function oe(e){return re(e)&&e.valueOf()>=0}function ie(e){return ne(e)||oe(e)}y(te,"isPrimitive",ee),y(te,"isObject",re),y(ie,"isPrimitive",ne),y(ie,"isObject",oe);var ae,ue=Object.getPrototypeOf;ae=R(Object.getPrototypeOf)?ue:function(e){var r=function(e){return e.__proto__}(e);return r||null===r?r:"[object Function]"===A(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null};var ce=ae;function fe(e){return null==e?null:(e=Object(e),ce(e))}function le(e){return"string"==typeof e}var pe=String.prototype.valueOf;var se=v();function ye(e){return"object"==typeof e&&(e instanceof String||(se?function(e){try{return pe.call(e),!0}catch(e){return!1}}(e):"[object String]"===A(e)))}function de(e){return le(e)||ye(e)}function he(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}function be(e){return"number"==typeof e}function ge(e){var r,t="";for(r=0;r<e;r++)t+="0";return t}function ve(e,r,t){var n=!1,o=r-e.length;return o<0||(function(e){return"-"===e[0]}(e)&&(n=!0,e=e.substr(1)),e=t?e+ge(o):ge(o)+e,n&&(e="-"+e)),e}y(de,"isPrimitive",le),y(de,"isObject",ye),y(he,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var we=String.prototype.toLowerCase,me=String.prototype.toUpperCase;function je(e){var r,t,n;switch(e.specifier){case"b":r=2;break;case"o":r=8;break;case"x":case"X":r=16;break;default:r=10}if(t=e.arg,n=parseInt(t,10),!isFinite(n)){if(!be(t))throw new Error("invalid integer. Value: "+t);n=0}return n<0&&("u"===e.specifier||10!==r)&&(n=4294967295+n+1),n<0?(t=(-n).toString(r),e.precision&&(t=ve(t,e.precision,e.padRight)),t="-"+t):(t=n.toString(r),n||e.precision?e.precision&&(t=ve(t,e.precision,e.padRight)):t="",e.sign&&(t=e.sign+t)),16===r&&(e.alternate&&(t="0x"+t),t=e.specifier===me.call(e.specifier)?me.call(t):we.call(t)),8===r&&e.alternate&&"0"!==t.charAt(0)&&(t="0"+t),t}function Oe(e){return"string"==typeof e}var Ae=Math.abs,Ee=String.prototype.toLowerCase,Me=String.prototype.toUpperCase,_e=String.prototype.replace,Se=/e\+(\d)$/,ke=/e-(\d)$/,Ie=/^(\d+)$/,Te=/^(\d+)e/,xe=/\.0$/,Fe=/\.0*e/,Ue=/(\..*[^0])0*e/;function Pe(e){var r,t,n=parseFloat(e.arg);if(!isFinite(n)){if(!be(e.arg))throw new Error("invalid floating-point number. Value: "+t);n=e.arg}switch(e.specifier){case"e":case"E":t=n.toExponential(e.precision);break;case"f":case"F":t=n.toFixed(e.precision);break;case"g":case"G":Ae(n)<1e-4?((r=e.precision)>0&&(r-=1),t=n.toExponential(r)):t=n.toPrecision(e.precision),e.alternate||(t=_e.call(t,Ue,"$1e"),t=_e.call(t,Fe,"e"),t=_e.call(t,xe,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return t=_e.call(t,Se,"e+0$1"),t=_e.call(t,ke,"e-0$1"),e.alternate&&(t=_e.call(t,Ie,"$1."),t=_e.call(t,Te,"$1.e")),n>=0&&e.sign&&(t=e.sign+t),t=e.specifier===Me.call(e.specifier)?Me.call(t):Ee.call(t)}function Ve(e){var r,t="";for(r=0;r<e;r++)t+=" ";return t}function Ce(e,r,t){var n=r-e.length;return n<0?e:e=t?e+Ve(n):Ve(n)+e}var $e=String.fromCharCode,Ne=isNaN,We=Array.isArray;function He(e){var r={};return r.specifier=e.specifier,r.precision=void 0===e.precision?1:e.precision,r.width=e.width,r.flags=e.flags||"",r.mapping=e.mapping,r}function Be(e){var r,t,n,o,i,a,u,c,f;if(!We(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(a="",u=1,c=0;c<e.length;c++)if(Oe(n=e[c]))a+=n;else{if(r=void 0!==n.precision,!(n=He(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+n+"`.");for(n.mapping&&(u=n.mapping),t=n.flags,f=0;f<t.length;f++)switch(o=t.charAt(f)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=t.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,Ne(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(r&&"*"===n.precision){if(n.precision=parseInt(arguments[u],10),u+=1,Ne(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,r=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":r&&(n.padZeros=!1),n.arg=je(n);break;case"s":n.maxWidth=r?n.precision:-1;break;case"c":if(!Ne(n.arg)){if((i=parseInt(n.arg,10))<0||i>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=Ne(i)?String(n.arg):$e(i)}break;case"e":case"E":case"f":case"F":case"g":case"G":r||(n.precision=6),n.arg=Pe(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=ve(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=Ce(n.arg,n.width,n.padRight)),a+=n.arg||"",u+=1}return a}var Re=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function Le(e){var r={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(r.precision="1"),r}function ze(e){var r,t,n,o;for(t=[],o=0,n=Re.exec(e);n;)(r=e.slice(o,Re.lastIndex-n[0].length)).length&&t.push(r),t.push(Le(n)),o=Re.lastIndex,n=Re.exec(e);return(r=e.slice(o)).length&&t.push(r),t}function Ge(e){return"string"==typeof e}function qe(e){var r,t,n;if(!Ge(e))throw new TypeError(qe("invalid argument. First argument must be a string. Value: `%s`.",e));for(r=ze(e),(t=new Array(arguments.length))[0]=r,n=1;n<t.length;n++)t[n]=arguments[n];return Be.apply(null,t)}function Xe(e){if(!le(e))throw new TypeError(qe("invalid argument. Must provide a regular expression string. Value: `%s`.",e));return(e=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(e))?new RegExp(e[1],e[2]):null}function De(e){return e!=e}function Ze(e){return L(e)&&De(e)}function Je(e){return X(e)&&De(e.valueOf())}function Ye(e){return Ze(e)||Je(e)}y(Ye,"isPrimitive",Ze),y(Ye,"isObject",Je);function Ke(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&K(e.length)&&e.length>=0&&e.length<=9007199254740991}function Qe(e,r,t){var n,o;if(!Ke(e)&&!le(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(0===(n=e.length))return-1;if(3===arguments.length){if(!ee(t))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+t+"`.");if(t>=0){if(t>=n)return-1;o=t}else(o=n+t)<0&&(o=0)}else o=0;if(Ye(r)){for(;o<n;o++)if(Ye(e[o]))return o}else for(;o<n;o++)if(e[o]===r)return o;return-1}function er(e){return Object.keys(Object(e))}var rr,tr=void 0!==Object.keys;function nr(e){return"[object Arguments]"===A(e)}rr=function(){return nr(arguments)}();var or=rr,ir=Object.prototype.propertyIsEnumerable;var ar=!ir.call("beep","0");function ur(e,r){var t;return null!=e&&(!(t=ir.call(e,r))&&ar&&de(e)?!Ze(r=+r)&&ee(r)&&r>=0&&r<e.length:t)}var cr=4294967295;var fr=or?nr:function(e){return null!==e&&"object"==typeof e&&!$(e)&&"number"==typeof e.length&&K(e.length)&&e.length>=0&&e.length<=cr&&j(e,"callee")&&!ur(e,"callee")},lr=Array.prototype.slice;var pr=ur((function(){}),"prototype"),sr=!ur({toString:null},"toString");function yr(e){return e.constructor&&e.constructor.prototype===e}var dr=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],hr="undefined"==typeof window?void 0:window;var br=function(){var e;if("undefined"===B(hr))return!1;for(e in hr)try{-1===Qe(dr,e)&&j(hr,e)&&null!==hr[e]&&"object"===B(hr[e])&&yr(hr[e])}catch(e){return!0}return!1}(),gr="undefined"!=typeof window;var vr,wr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];vr=tr?function(){return 2!==(er(arguments)||"").length}(1,2)?function(e){return fr(e)?er(lr.call(e)):er(e)}:er:function(e){var r,t,n,o,i,a,u;if(o=[],fr(e)){for(u=0;u<e.length;u++)o.push(u.toString());return o}if("string"==typeof e){if(e.length>0&&!j(e,"0"))for(u=0;u<e.length;u++)o.push(u.toString())}else{if(!1==(n="function"==typeof e)&&!N(e))return o;t=pr&&n}for(i in e)t&&"prototype"===i||!j(e,i)||o.push(String(i));if(sr)for(r=function(e){if(!1===gr&&!br)return yr(e);try{return yr(e)}catch(e){return!1}}(e),u=0;u<wr.length;u++)a=wr[u],r&&"constructor"===a||!j(e,a)||o.push(String(a));return o};var mr=vr,jr=void 0!==Object.getOwnPropertyNames,Or=Object.getOwnPropertyNames;var Ar=jr?function(e){return Or(Object(e))}:function(e){return mr(Object(e))},Er=void 0!==Object.getOwnPropertyDescriptor,Mr=Object.getOwnPropertyDescriptor;var _r=Er?function(e,r){var t;return null==e||void 0===(t=Mr(e,r))?null:t}:function(e,r){return j(e,r)?{configurable:!0,enumerable:!0,writable:!0,value:e[r]}:null},Sr="function"==typeof Buffer?Buffer:null;var kr,Ir=r.Buffer;kr=function(){var e,r;if("function"!=typeof Sr)return!1;try{e=W(r="function"==typeof Sr.from?Sr.from([1,2,3,4]):new Sr([1,2,3,4]))&&1===r[0]&&2===r[1]&&3===r[2]&&4===r[3]}catch(r){e=!1}return e}()?Ir:function(){throw new Error("not implemented")};var Tr=kr;var xr=R(Tr.from)?function(e){if(!W(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return Tr.from(e)}:function(e){if(!W(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return new Tr(e)},Fr="function"==typeof Int8Array;var Ur="function"==typeof Int8Array?Int8Array:null;var Pr,Vr="function"==typeof Int8Array?Int8Array:void 0;Pr=function(){var e,r,t;if("function"!=typeof Ur)return!1;try{r=new Ur([1,3.14,-3.14,128]),t=r,e=(Fr&&t instanceof Int8Array||"[object Int8Array]"===A(t))&&1===r[0]&&3===r[1]&&-3===r[2]&&-128===r[3]}catch(r){e=!1}return e}()?Vr:function(){throw new Error("not implemented")};var Cr=Pr,$r="function"==typeof Uint8Array;var Nr="function"==typeof Uint8Array?Uint8Array:null;var Wr,Hr="function"==typeof Uint8Array?Uint8Array:void 0;Wr=function(){var e,r,t;if("function"!=typeof Nr)return!1;try{r=new Nr(r=[1,3.14,-3.14,256,257]),t=r,e=($r&&t instanceof Uint8Array||"[object Uint8Array]"===A(t))&&1===r[0]&&3===r[1]&&253===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?Hr:function(){throw new Error("not implemented")};var Br=Wr,Rr="function"==typeof Uint8ClampedArray;var Lr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var zr,Gr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;zr=function(){var e,r,t;if("function"!=typeof Lr)return!1;try{r=new Lr([-1,0,1,3.14,4.99,255,256]),t=r,e=(Rr&&t instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===A(t))&&0===r[0]&&0===r[1]&&1===r[2]&&3===r[3]&&5===r[4]&&255===r[5]&&255===r[6]}catch(r){e=!1}return e}()?Gr:function(){throw new Error("not implemented")};var qr=zr,Xr="function"==typeof Int16Array;var Dr="function"==typeof Int16Array?Int16Array:null;var Zr,Jr="function"==typeof Int16Array?Int16Array:void 0;Zr=function(){var e,r,t;if("function"!=typeof Dr)return!1;try{r=new Dr([1,3.14,-3.14,32768]),t=r,e=(Xr&&t instanceof Int16Array||"[object Int16Array]"===A(t))&&1===r[0]&&3===r[1]&&-3===r[2]&&-32768===r[3]}catch(r){e=!1}return e}()?Jr:function(){throw new Error("not implemented")};var Yr=Zr,Kr="function"==typeof Uint16Array;var Qr="function"==typeof Uint16Array?Uint16Array:null;var et,rt="function"==typeof Uint16Array?Uint16Array:void 0;et=function(){var e,r,t;if("function"!=typeof Qr)return!1;try{r=new Qr(r=[1,3.14,-3.14,65536,65537]),t=r,e=(Kr&&t instanceof Uint16Array||"[object Uint16Array]"===A(t))&&1===r[0]&&3===r[1]&&65533===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?rt:function(){throw new Error("not implemented")};var tt=et,nt="function"==typeof Int32Array;var ot="function"==typeof Int32Array?Int32Array:null;var it,at="function"==typeof Int32Array?Int32Array:void 0;it=function(){var e,r,t;if("function"!=typeof ot)return!1;try{r=new ot([1,3.14,-3.14,2147483648]),t=r,e=(nt&&t instanceof Int32Array||"[object Int32Array]"===A(t))&&1===r[0]&&3===r[1]&&-3===r[2]&&-2147483648===r[3]}catch(r){e=!1}return e}()?at:function(){throw new Error("not implemented")};var ut=it,ct="function"==typeof Uint32Array;var ft="function"==typeof Uint32Array?Uint32Array:null;var lt,pt="function"==typeof Uint32Array?Uint32Array:void 0;lt=function(){var e,r,t;if("function"!=typeof ft)return!1;try{r=new ft(r=[1,3.14,-3.14,4294967296,4294967297]),t=r,e=(ct&&t instanceof Uint32Array||"[object Uint32Array]"===A(t))&&1===r[0]&&3===r[1]&&4294967293===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?pt:function(){throw new Error("not implemented")};var st=lt,yt="function"==typeof Float32Array;var dt="function"==typeof Float32Array?Float32Array:null;var ht,bt="function"==typeof Float32Array?Float32Array:void 0;ht=function(){var e,r,t;if("function"!=typeof dt)return!1;try{r=new dt([1,3.14,-3.14,5e40]),t=r,e=(yt&&t instanceof Float32Array||"[object Float32Array]"===A(t))&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===Z}catch(r){e=!1}return e}()?bt:function(){throw new Error("not implemented")};var gt=ht,vt="function"==typeof Float64Array;var wt="function"==typeof Float64Array?Float64Array:null;var mt,jt="function"==typeof Float64Array?Float64Array:void 0;mt=function(){var e,r,t;if("function"!=typeof wt)return!1;try{r=new wt([1,3.14,-3.14,NaN]),t=r,e=(vt&&t instanceof Float64Array||"[object Float64Array]"===A(t))&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){e=!1}return e}()?jt:function(){throw new Error("not implemented")};var Ot=mt;function At(e){return new Cr(e)}function Et(e){return new Br(e)}function Mt(e){return new qr(e)}function _t(e){return new Yr(e)}function St(e){return new tt(e)}function kt(e){return new ut(e)}function It(e){return new st(e)}function Tt(e){return new gt(e)}function xt(e){return new Ot(e)}var Ft={int8array:At,uint8array:Et,uint8clampedarray:Mt,int16array:_t,uint16array:St,int32array:kt,uint32array:It,float32array:Tt,float64array:xt};function Ut(e,r,t,n,o){var i,a,u,c,f,l,p,y,d,h;if(o-=1,"object"!=typeof e||null===e)return e;if(W(e))return xr(e);if(function(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===A(e))return!0;e=fe(e)}return!1}(e))return function(e){var r,t,n,o,i,a,u=[],c=[];for(i=new e.constructor(e.message),u.push(e),c.push(i),e.stack&&(i.stack=e.stack),e.code&&(i.code=e.code),e.errno&&(i.errno=e.errno),e.syscall&&(i.syscall=e.syscall),r=mr(e),a=0;a<r.length;a++)o=r[a],j(t=_r(e,o),"value")&&(n=$(e[o])?[]:{},t.value=Ut(e[o],n,u,c,-1)),s(i,o,t);return i}(e);if("date"===(u=B(e)))return new Date(+e);if("regexp"===u)return Xe(e.toString());if("set"===u)return new Set(e);if("map"===u)return new Map(e);if("string"===u||"boolean"===u||"number"===u)return e.valueOf();if(f=Ft[u])return f(e);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(e){var r,t,n,o,i,a,u,c;for(r=[],o=[],u=Object.create(fe(e)),r.push(e),o.push(u),t=Ar(e),c=0;c<t.length;c++)n=t[c],j(i=_r(e,n),"value")&&(a=$(e[n])?[]:{},i.value=Ut(e[n],a,r,o,-1)),s(u,n,i);return Object.isExtensible(e)||Object.preventExtensions(u),Object.isSealed(e)&&Object.seal(u),Object.isFrozen(e)&&Object.freeze(u),u}(e):{};if(a=mr(e),o>0)for(i=u,h=0;h<a.length;h++)y=e[l=a[h]],u=B(y),"object"!=typeof y||null===y||"array"!==u&&"object"!==u||W(y)?"object"===i?(j(c=_r(e,l),"value")&&(c.value=Ut(y)),s(r,l,c)):r[l]=Ut(y):-1===(d=Qe(t,y))?(p=$(y)?new Array(y.length):{},t.push(y),n.push(p),"array"===i?r[l]=Ut(y,p,t,n,o):(j(c=_r(e,l),"value")&&(c.value=Ut(y,p,t,n,o)),s(r,l,c))):r[l]=n[d];else if("array"===u)for(h=0;h<a.length;h++)r[l=a[h]]=e[l];else for(h=0;h<a.length;h++)l=a[h],c=_r(e,l),s(r,l,c);return Object.isExtensible(e)||Object.preventExtensions(r),Object.isSealed(e)&&Object.seal(r),Object.isFrozen(e)&&Object.freeze(r),r}function Pt(e,r){var t;if(arguments.length>1){if(!ne(r))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+r+"`.");if(0===r)return e}else r=Z;return Ut(e,t=$(e)?new Array(e.length):{},[e],[t],r)}function Vt(e){var r=typeof e;return null===e||"object"!==r&&"function"!==r?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+e+"`."):null}var Ct=Object.create;function $t(){}var Nt="function"==typeof Ct?Ct:function(e){return $t.prototype=e,new $t};function Wt(e,r){var t=Vt(e);if(t)throw t;if(t=Vt(r))throw t;if(void 0===r.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+r.prototype+"`.");return e.prototype=Nt(r.prototype),s(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e}),e}function Ht(e,r,t){s(e,r,{configurable:!0,enumerable:!1,writable:!0,value:t})}var Bt=t;var Rt={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1};var Lt=Object.prototype;function zt(e){var r;return!!function(e){return"object"==typeof e&&null!==e&&!$(e)}(e)&&(!(r=fe(e))||!j(e,"constructor")&&j(r,"constructor")&&R(r.constructor)&&"[object Function]"===A(r.constructor)&&j(r,"isPrototypeOf")&&R(r.isPrototypeOf)&&(r===Lt||function(e){var r;for(r in e)if(!j(e,r))return!1;return!0}(e)))}function Gt(e){return L(e)&&e>=0}function qt(e){return X(e)&&e.valueOf()>=0}function Xt(e){return Gt(e)||qt(e)}function Dt(e,r){return zt(r)?j(r,"objectMode")&&(e.objectMode=r.objectMode,!b(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):j(r,"readableObjectMode")&&(e.readableObjectMode=r.readableObjectMode,!b(e.readableObjectMode))?new TypeError("invalid option. `readableObjectMode` option must be a primitive boolean. Option: `"+e.readableObjectMode+"`."):j(r,"allowHalfOpen")&&(e.allowHalfOpen=r.allowHalfOpen,!b(e.allowHalfOpen))?new TypeError("invalid option. `allowHalfOpen` option must be a primitive boolean. Option: `"+e.allowHalfOpen+"`."):j(r,"highWaterMark")&&(e.highWaterMark=r.highWaterMark,!Gt(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.")}y(Xt,"isPrimitive",Gt),y(Xt,"isObject",qt);var Zt=d(Object.freeze({__proto__:null,default:()=>()=>{}})),Jt=Zt("inspect-stream"),Yt=e.Transform;function Kt(e,r){var t,n,o;if(!(this instanceof Kt))return arguments.length>1?new Kt(e,r):new Kt(e);if(n=Pt(Rt),arguments.length>1){if(t=r,o=Dt(n,e))throw o}else t=e;if(!R(t))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+t+"`.");return n.writableObjectMode=!0,Jt("Creating a transform stream configured with the following options: %s.",JSON.stringify(n)),Yt.call(this,n),Ht(this,"_destroyed",!1),Ht(this,"_idx",-1),y(this,"_inspect",t),this}function Qt(){var e,r=arguments,t=r[0],n="https://stdlib.io/e/"+t+"?";for(e=1;e<r.length;e++)n+="&arg[]="+encodeURIComponent(r[e]);return n}Wt(Kt,Yt),y(Kt.prototype,"_transform",(function(e,r,t){this._idx+=1,Jt("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",e.toString(),r,this._idx),this._inspect.call(null,e,this._idx),this.push(e),t()})),y(Kt.prototype,"_flush",(function(e){Jt("Flushing the stream..."),e()})),y(Kt.prototype,"destroy",(function(e){var r;return this._destroyed?(Jt("Attempted to destroy an already destroyed stream."),this):(r=this,this._destroyed=!0,function(e){var r,t;for(r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);function n(){e.apply(null,r)}Bt.nextTick(n)}((function(){e&&(Jt("Stream was destroyed due to an error. Error: %s.",JSON.stringify(e)),r.emit("error",e));Jt("Closing the stream..."),r.emit("close")})),this)})),y(Kt,"objectMode",(function(e,r){var t,n;if(arguments.length>1){if(!zt(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");t=Pt(e),n=r}else t={},n=e;return t.objectMode=!0,new Kt(t,n)})),y(Kt,"factory",(function(e){var r;if(arguments.length){if(!zt(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");r=Pt(e)}else r={};return t;function t(e){return new Kt(r,e)}}));var en="debug-stream",rn=Zt(en),tn={objectMode:!1,allowHalfOpen:!1,readableObjectMode:!1,name:""};function nn(e,r){return zt(r)?j(r,"name")&&(e.name=r.name,!le(e.name))?new TypeError(Qt("0fw2i","name",e.name)):j(r,"objectMode")&&(e.objectMode=r.objectMode,!b(e.objectMode))?new TypeError(Qt("0fw30","objectMode",e.objectMode)):j(r,"readableObjectMode")&&(e.readableObjectMode=r.readableObjectMode,!b(e.readableObjectMode))?new TypeError(Qt("0fw30","readableObjectMode",e.readableObjectMode)):j(r,"allowHalfOpen")&&(e.allowHalfOpen=r.allowHalfOpen,!b(e.allowHalfOpen))?new TypeError(Qt("0fw30","allowHalfOpen",e.allowHalfOpen)):j(r,"highWaterMark")&&(e.highWaterMark=r.highWaterMark,!Gt(e.highWaterMark))?new TypeError(Qt("0fw4x","highWaterMark",e.highWaterMark)):null:new TypeError(Qt("0fw2h",r))}var on=Zt;function an(e,r){var t,n,o,i,a;if(!(this instanceof an))return arguments.length>1?new an(e,r):1===arguments.length?new an(e):new an;if(t=Pt(tn),arguments.length>1){if(!R(r))throw new TypeError(Qt("0fw2n",r));a=r,i=nn(t,e)}else arguments.length&&(R(e)?a=e:i=nn(t,e));if(i)throw i;return n=t.name?en+":"+t.name:en,o=on(n),rn("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),Kt.call(this,t,u),this;function u(e,r){if(a)return rn("Received a new chunk. Chunk: %s. Index: %d.",e.toString(),r),a(o,e,r);W(e)&&(e=e.toString()),e=JSON.stringify(e),rn("Received a new chunk. Chunk: %s. Index: %d.",e,r),o("Chunk: %s. Index: %d.",e,r)}}return Wt(an,Kt),y(an,"objectMode",(function(e,r){var t,n;if(arguments.length>1){if(!zt(e))throw new TypeError(Qt("0fw2h",e));if(t=Pt(e),n=r,!R(r))throw new TypeError(Qt("0fw2n",r))}else if(arguments.length)if(R(e))t={},n=e;else{if(!zt(e))throw new TypeError(Qt("0fw2h",e));t=Pt(e)}else t={};return t.objectMode=!0,void 0===n?new an(t):new an(t,n)})),y(an,"factory",(function(e){var r;if(arguments.length){if(!zt(e))throw new TypeError(Qt("0fw2h",e));r=Pt(e)}else r={};return t;function t(e,t){return r.name=e,arguments.length>1?new an(r,t):new an(r)}})),an}));
//# sourceMappingURL=index.js.map
